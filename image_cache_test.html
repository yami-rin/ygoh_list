<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”»åƒã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ†ã‚¹ãƒˆ - ã‚«ãƒ¼ãƒ‰IDä¿å­˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        input[type="number"],
        input[type="text"] {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            flex: 1;
            min-width: 200px;
        }

        button {
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button.danger {
            background: #ef5350;
        }

        button.danger:hover {
            background: #e53935;
        }

        button.secondary {
            background: #78909c;
        }

        button.secondary:hover {
            background: #607d8b;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-box {
            text-align: center;
            padding: 20px;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .stat-number {
            font-size: 32px;
            font-weight: bold;
        }

        .stat-label {
            font-size: 14px;
            margin-top: 5px;
            opacity: 0.9;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .image-card {
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            transition: all 0.3s;
        }

        .image-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-color: #667eea;
        }

        .image-card img {
            width: 100%;
            height: auto;
            border-radius: 4px;
            background: white;
        }

        .image-info {
            margin-top: 10px;
            font-size: 14px;
        }

        .image-info strong {
            color: #333;
        }

        .image-info .detail {
            color: #666;
            font-size: 12px;
            margin-top: 5px;
        }

        .image-actions {
            margin-top: 10px;
            display: flex;
            gap: 5px;
        }

        .image-actions button {
            flex: 1;
            padding: 6px 12px;
            font-size: 12px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
            margin: 15px 0;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .log {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }

        .log-entry {
            margin: 3px 0;
            padding: 3px 0;
        }

        .log-entry.success { color: #4ec9b0; }
        .log-entry.error { color: #f48771; }
        .log-entry.info { color: #9cdcfe; }

        .batch-input {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            resize: vertical;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ´ éŠæˆ¯ç‹ã‚«ãƒ¼ãƒ‰ç”»åƒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚·ã‚¹ãƒ†ãƒ </h1>
            <p class="subtitle">ã‚«ãƒ¼ãƒ‰IDã¨ç”»åƒã‚’ç´ã¥ã‘ã¦IndexedDBã«ä¿å­˜ãƒ»ç®¡ç†ã—ã¾ã™</p>
        </div>

        <!-- Stats Section -->
        <div class="section">
            <h2>ğŸ“Š ã‚­ãƒ£ãƒƒã‚·ãƒ¥çµ±è¨ˆ</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-number" id="cache-count">0</div>
                    <div class="stat-label">ä¿å­˜æ¸ˆã¿ç”»åƒ</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="cache-size">0 MB</div>
                    <div class="stat-label">ä½¿ç”¨å®¹é‡</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="success-rate">0%</div>
                    <div class="stat-label">æˆåŠŸç‡</div>
                </div>
            </div>
            <div class="controls">
                <button onclick="updateStats()">çµ±è¨ˆã‚’æ›´æ–°</button>
                <button class="secondary" onclick="exportCache()">ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
                <button class="danger" onclick="clearCache()">å…¨å‰Šé™¤</button>
            </div>
        </div>

        <!-- Single Card Section -->
        <div class="section">
            <h2>ğŸ” å˜ä¸€ã‚«ãƒ¼ãƒ‰å–å¾—ãƒ»ä¿å­˜</h2>
            <div class="controls">
                <input type="number" id="single-card-id" placeholder="ã‚«ãƒ¼ãƒ‰ID (ä¾‹: 7315)" value="7315">
                <button onclick="fetchAndSaveCard()">å–å¾—ã—ã¦ä¿å­˜</button>
                <button class="secondary" onclick="loadCachedCard()">ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰èª­è¾¼</button>
                <button class="danger" onclick="deleteCard()">å‰Šé™¤</button>
            </div>
            <div id="single-card-result"></div>
        </div>

        <!-- Batch Processing Section -->
        <div class="section">
            <h2>ğŸ“¦ ä¸€æ‹¬å‡¦ç†</h2>
            <p style="color: #666; margin-bottom: 10px;">
                ã‚«ãƒ¼ãƒ‰IDã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã¾ãŸã¯æ”¹è¡ŒåŒºåˆ‡ã‚Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹: 7315, 4007, 5818ï¼‰
            </p>
            <textarea
                class="batch-input"
                id="batch-card-ids"
                placeholder="7315, 4007, 5818, 6983, 10389"
            >7315, 4007, 5818, 6983, 10389</textarea>
            <div class="controls" style="margin-top: 10px;">
                <button onclick="batchFetchAndSave()">ä¸€æ‹¬å–å¾—ãƒ»ä¿å­˜</button>
                <button class="secondary" onclick="batchLoadCached()">ä¸€æ‹¬èª­è¾¼</button>
            </div>
            <div class="progress-bar" id="batch-progress" style="display: none;">
                <div class="progress-fill" id="batch-progress-fill" style="width: 0%;">0%</div>
            </div>
            <div id="batch-result"></div>
        </div>

        <!-- Cached Images Display -->
        <div class="section">
            <h2>ğŸ’¾ ä¿å­˜æ¸ˆã¿ç”»åƒä¸€è¦§</h2>
            <div class="controls">
                <button onclick="loadAllCached()">å…¨ã¦è¡¨ç¤º</button>
                <button class="secondary" onclick="sortByDate()">æ—¥ä»˜é †</button>
                <button class="secondary" onclick="sortByCardId()">IDé †</button>
            </div>
            <div class="image-grid" id="cached-images-grid"></div>
        </div>

        <!-- Log Section -->
        <div class="section">
            <h2>ğŸ“ å®Ÿè¡Œãƒ­ã‚°</h2>
            <div class="log" id="log-container">
                <div class="log-entry info">æº–å‚™å®Œäº†</div>
            </div>
        </div>
    </div>

    <script src="image_cache_manager.js"></script>
    <script>
        const PROXY_URL = 'http://localhost:3000';
        let stats = { success: 0, failed: 0 };

        // ãƒ­ã‚°å‡ºåŠ›
        function log(message, type = 'info') {
            const container = document.getElementById('log-container');
            const timestamp = new Date().toLocaleTimeString('ja-JP');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${timestamp}] ${message}`;
            container.insertBefore(entry, container.firstChild);

            while (container.children.length > 100) {
                container.removeChild(container.lastChild);
            }
        }

        // çµ±è¨ˆæ›´æ–°
        async function updateStats() {
            try {
                const cacheSize = await imageCacheManager.getCacheSize();
                document.getElementById('cache-count').textContent = cacheSize.count;
                document.getElementById('cache-size').textContent = cacheSize.sizeMB + ' MB';

                const total = stats.success + stats.failed;
                const rate = total > 0 ? Math.round((stats.success / total) * 100) : 0;
                document.getElementById('success-rate').textContent = rate + '%';

                log(`çµ±è¨ˆæ›´æ–°: ${cacheSize.count}æš, ${cacheSize.sizeMB}MB`, 'success');
            } catch (error) {
                log(`çµ±è¨ˆæ›´æ–°ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // å˜ä¸€ã‚«ãƒ¼ãƒ‰å–å¾—ãƒ»ä¿å­˜
        async function fetchAndSaveCard() {
            const cardId = document.getElementById('single-card-id').value;
            if (!cardId) {
                alert('ã‚«ãƒ¼ãƒ‰IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            const resultDiv = document.getElementById('single-card-result');
            resultDiv.innerHTML = '<p>å–å¾—ä¸­...</p>';

            try {
                log(`ã‚«ãƒ¼ãƒ‰ID ${cardId} ã‚’å–å¾—ä¸­...`, 'info');

                const imageData = await imageCacheManager.fetchAndCache(cardId, PROXY_URL);

                if (imageData) {
                    const info = await imageCacheManager.getCardInfo(cardId);
                    resultDiv.innerHTML = `
                        <div class="image-grid">
                            <div class="image-card">
                                <img src="${imageData}" alt="Card ${cardId}">
                                <div class="image-info">
                                    <strong>ã‚«ãƒ¼ãƒ‰ID: ${cardId}</strong>
                                    <div class="detail">ã‚«ãƒ¼ãƒ‰å: ${info.cardName || 'N/A'}</div>
                                    <div class="detail">ä¿å­˜æ—¥æ™‚: ${new Date(info.timestamp).toLocaleString('ja-JP')}</div>
                                    <div class="detail">ã‚µã‚¤ã‚º: ${(info.imageSize / 1024).toFixed(2)} KB</div>
                                </div>
                            </div>
                        </div>
                    `;

                    stats.success++;
                    log(`âœ“ ã‚«ãƒ¼ãƒ‰ID ${cardId} ã‚’ä¿å­˜ã—ã¾ã—ãŸ`, 'success');
                    await updateStats();
                } else {
                    throw new Error('ç”»åƒã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');
                }
            } catch (error) {
                stats.failed++;
                resultDiv.innerHTML = `<p style="color: #ef5350;">ã‚¨ãƒ©ãƒ¼: ${error.message}</p>`;
                log(`âœ— ã‚«ãƒ¼ãƒ‰ID ${cardId} ã®å–å¾—å¤±æ•—: ${error.message}`, 'error');
                await updateStats();
            }
        }

        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰èª­è¾¼
        async function loadCachedCard() {
            const cardId = document.getElementById('single-card-id').value;
            if (!cardId) {
                alert('ã‚«ãƒ¼ãƒ‰IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            try {
                const imageData = await imageCacheManager.getImage(cardId);

                if (imageData) {
                    const info = await imageCacheManager.getCardInfo(cardId);
                    const resultDiv = document.getElementById('single-card-result');
                    resultDiv.innerHTML = `
                        <div class="image-grid">
                            <div class="image-card">
                                <img src="${imageData}" alt="Card ${cardId}">
                                <div class="image-info">
                                    <strong>ã‚«ãƒ¼ãƒ‰ID: ${cardId}</strong>
                                    <div class="detail">ã‚«ãƒ¼ãƒ‰å: ${info.cardName || 'N/A'}</div>
                                    <div class="detail">ä¿å­˜æ—¥æ™‚: ${new Date(info.timestamp).toLocaleString('ja-JP')}</div>
                                    <div class="detail">æœ€çµ‚ã‚¢ã‚¯ã‚»ã‚¹: ${new Date(info.lastAccessed).toLocaleString('ja-JP')}</div>
                                </div>
                            </div>
                        </div>
                    `;
                    log(`âœ“ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰èª­è¾¼: ã‚«ãƒ¼ãƒ‰ID ${cardId}`, 'success');
                } else {
                    alert('ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ç”»åƒãŒã‚ã‚Šã¾ã›ã‚“');
                    log(`ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ç”»åƒãªã—: ã‚«ãƒ¼ãƒ‰ID ${cardId}`, 'info');
                }
            } catch (error) {
                alert(`ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                log(`èª­è¾¼ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // ã‚«ãƒ¼ãƒ‰å‰Šé™¤
        async function deleteCard() {
            const cardId = document.getElementById('single-card-id').value;
            if (!cardId) {
                alert('ã‚«ãƒ¼ãƒ‰IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            if (confirm(`ã‚«ãƒ¼ãƒ‰ID ${cardId} ã®ç”»åƒã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ`)) {
                try {
                    await imageCacheManager.deleteImage(cardId);
                    document.getElementById('single-card-result').innerHTML = '';
                    log(`âœ“ å‰Šé™¤å®Œäº†: ã‚«ãƒ¼ãƒ‰ID ${cardId}`, 'success');
                    await updateStats();
                } catch (error) {
                    log(`å‰Šé™¤ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                }
            }
        }

        // ä¸€æ‹¬å–å¾—ãƒ»ä¿å­˜
        async function batchFetchAndSave() {
            const input = document.getElementById('batch-card-ids').value;
            const cardIds = input.split(/[\s,]+/).filter(id => id.trim()).map(id => id.trim());

            if (cardIds.length === 0) {
                alert('ã‚«ãƒ¼ãƒ‰IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            const progressBar = document.getElementById('batch-progress');
            const progressFill = document.getElementById('batch-progress-fill');
            const resultDiv = document.getElementById('batch-result');

            progressBar.style.display = 'block';
            resultDiv.innerHTML = '';

            log(`ä¸€æ‹¬å‡¦ç†é–‹å§‹: ${cardIds.length}æš`, 'info');

            const results = await imageCacheManager.fetchAndCacheBatch(
                cardIds,
                PROXY_URL,
                (progress) => {
                    const percent = Math.round((progress.current / progress.total) * 100);
                    progressFill.style.width = percent + '%';
                    progressFill.textContent = `${progress.current}/${progress.total} (${percent}%)`;
                    log(`å‡¦ç†ä¸­: ${progress.cardId} (${progress.current}/${progress.total})`, 'info');
                }
            );

            stats.success += results.success.length;
            stats.failed += results.failed.length;

            resultDiv.innerHTML = `
                <div style="padding: 15px; background: #f5f5f5; border-radius: 8px; margin-top: 15px;">
                    <p><strong>âœ“ æˆåŠŸ:</strong> ${results.success.length}æš</p>
                    <p><strong>âœ— å¤±æ•—:</strong> ${results.failed.length}æš</p>
                    ${results.failed.length > 0 ? `
                        <details style="margin-top: 10px;">
                            <summary>å¤±æ•—ã®è©³ç´°</summary>
                            <ul>
                                ${results.failed.map(f => `<li>ID ${f.cardId}: ${f.error}</li>`).join('')}
                            </ul>
                        </details>
                    ` : ''}
                </div>
            `;

            log(`ä¸€æ‹¬å‡¦ç†å®Œäº†: æˆåŠŸ${results.success.length}ä»¶, å¤±æ•—${results.failed.length}ä»¶`, 'success');

            await updateStats();
            await loadAllCached();
        }

        // ä¸€æ‹¬èª­è¾¼
        async function batchLoadCached() {
            const input = document.getElementById('batch-card-ids').value;
            const cardIds = input.split(/[\s,]+/).filter(id => id.trim()).map(id => id.trim());

            if (cardIds.length === 0) {
                alert('ã‚«ãƒ¼ãƒ‰IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            const gridDiv = document.getElementById('cached-images-grid');
            gridDiv.innerHTML = '';

            for (const cardId of cardIds) {
                try {
                    const imageData = await imageCacheManager.getImage(cardId);
                    if (imageData) {
                        const info = await imageCacheManager.getCardInfo(cardId);
                        displayImageCard(gridDiv, cardId, imageData, info);
                    }
                } catch (error) {
                    log(`èª­è¾¼ã‚¨ãƒ©ãƒ¼ (ID ${cardId}): ${error.message}`, 'error');
                }
            }

            log(`${cardIds.length}æšã®èª­è¾¼å®Œäº†`, 'success');
        }

        // å…¨ã¦è¡¨ç¤º
        async function loadAllCached() {
            try {
                const allImages = await imageCacheManager.getAllImages();
                const gridDiv = document.getElementById('cached-images-grid');
                gridDiv.innerHTML = '';

                if (allImages.length === 0) {
                    gridDiv.innerHTML = '<p style="color: #666;">ä¿å­˜æ¸ˆã¿ç”»åƒã¯ã‚ã‚Šã¾ã›ã‚“</p>';
                    return;
                }

                for (const img of allImages) {
                    displayImageCard(gridDiv, img.cardId, img.imageData, img);
                }

                log(`${allImages.length}æšã‚’è¡¨ç¤º`, 'success');
            } catch (error) {
                log(`è¡¨ç¤ºã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // ç”»åƒã‚«ãƒ¼ãƒ‰è¡¨ç¤º
        function displayImageCard(container, cardId, imageData, info) {
            const card = document.createElement('div');
            card.className = 'image-card';
            card.innerHTML = `
                <img src="${imageData}" alt="Card ${cardId}">
                <div class="image-info">
                    <strong>ID: ${cardId}</strong>
                    <div class="detail">${info.cardName || 'ã‚«ãƒ¼ãƒ‰åãªã—'}</div>
                    <div class="detail">${new Date(info.timestamp).toLocaleDateString('ja-JP')}</div>
                    <div class="detail">${(info.imageSize / 1024).toFixed(1)} KB</div>
                </div>
                <div class="image-actions">
                    <button class="danger" onclick="deleteAndRefresh('${cardId}')">å‰Šé™¤</button>
                </div>
            `;
            container.appendChild(card);
        }

        // å‰Šé™¤ã—ã¦æ›´æ–°
        async function deleteAndRefresh(cardId) {
            if (confirm(`ã‚«ãƒ¼ãƒ‰ID ${cardId} ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ`)) {
                await imageCacheManager.deleteImage(cardId);
                await loadAllCached();
                await updateStats();
                log(`å‰Šé™¤: ã‚«ãƒ¼ãƒ‰ID ${cardId}`, 'success');
            }
        }

        // ã‚½ãƒ¼ãƒˆ
        async function sortByDate() {
            const allImages = await imageCacheManager.getAllImages();
            allImages.sort((a, b) => b.timestamp - a.timestamp);
            displaySortedImages(allImages);
        }

        async function sortByCardId() {
            const allImages = await imageCacheManager.getAllImages();
            allImages.sort((a, b) => parseInt(a.cardId) - parseInt(b.cardId));
            displaySortedImages(allImages);
        }

        function displaySortedImages(images) {
            const gridDiv = document.getElementById('cached-images-grid');
            gridDiv.innerHTML = '';
            for (const img of images) {
                displayImageCard(gridDiv, img.cardId, img.imageData, img);
            }
        }

        // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
        async function exportCache() {
            try {
                await imageCacheManager.exportCache();
                log('ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ', 'success');
            } catch (error) {
                log(`ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // å…¨å‰Šé™¤
        async function clearCache() {
            if (confirm('å…¨ã¦ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ã€‚')) {
                try {
                    await imageCacheManager.clearAllCache();
                    document.getElementById('cached-images-grid').innerHTML = '';
                    log('å…¨ã¦ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤ã—ã¾ã—ãŸ', 'success');
                    await updateStats();
                } catch (error) {
                    log(`å‰Šé™¤ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                }
            }
        }

        // åˆæœŸåŒ–
        (async () => {
            try {
                await imageCacheManager.init();
                log('IndexedDBåˆæœŸåŒ–å®Œäº†', 'success');
                await updateStats();
            } catch (error) {
                log(`åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        })();
    </script>
</body>
</html>
